# Web应用安全测试

![web-app-security-graphic](../../.gitbook/assets/imgs/3-extras/0-ast/web-app-security-graphic.svg)

## 什么是Web应用安全测试？

Web应用安全测试的目的是确定一个Web应用程序是否容易受到攻击。它涵盖了多种不同方法的自动化和手动技术。

### Web应用无处不在

几年前，当桌面应用仍然是时代的主流时，Web应用程序比现在要少得多。从技术上讲，任何使用Web浏览器访问的客户端-服务器程序都是一个“Web应用”，如今它包括了互联网的绝大多数。Web应用程序在许多方面更加灵活。

从简单的联系表格和电子商务结账，一直到社交媒体平台和网上银行系统。如果你通过浏览器访问它，那么它就是一个Web应用程序。一个Web应用可以构成一个网站的一小部分，或者它本身就是一个网站。

### 每个人都面临着数据泄露的风险

所有Web应用都有一个共同点，那就是它们处理数据，一种有价值的商品。和任何商品一样，数据也有存储风险。存在着想要窃取数据的团体，无论是出于监视的目的，还是为了实施欺诈，或者仅仅是为了出售。

这意味着Web应用安全是至关重要的。但在现实世界中，确保一个Web应用的安全并不是一件容易的事。首先，构建Web应用程序的开发人员往往不是安全专家。而且，新的安全漏洞一直在被发现，所以很难跟上。

### 进入：Web应用安全测试

解决方案是测试你的Web应用程序，看看它们的弱点在哪里。用银行金库来比喻，你首先要确保它的设计是正确的。然后，你可能会雇用一个专家团队来尝试闯入它。随着时间的推移和新弱点的发现，你会继续这样做，相应地改变金库。

你会发现，这与Web应用程序的安全测试没有什么不同。现在“金库”的墙是代码，涉及的许多（但不是全部）参与者都是自动化的，但理论是相同的。建立它并保持它的强大，尽可能测试每一种攻击方法。

## Web应用安全测试的类型

Web应用安全测试中，有各种概念。其中最著名的是：

### 动态应用程序安全测试（DAST）

[DAST](./1-dast.md)在一个正在运行的应用程序上由外向内地工作。这很像让一个专家团队尝试为你闯入你的银行金库。这就是所谓的“黑盒”安全测试技术，因为Web应用程序背后运行的代码对测试来说是不可见的。这模拟了真实的攻击，Burp Suite在很大程度上是从DAST方法中演变而来的。

因为DAST是一种实用的技术，模拟对正在运行的Web应用程序的真实攻击，其结果通常可以被认为是正确的。在所有条件相同的情况下，DAST通常会比SAST报告更少的误报。

### 静态应用程序安全测试（SAST）

SAST或多或少与DAST相反。它从内向外对静态代码起作用。一个很好的比喻也许是让一个专家查看你的银行金库的蓝图来寻找缺陷。这就是所谓的“白盒”安全测试技术，因为测试可以看到Web应用程序的全部代码（不像大多数真正的攻击者）。

不幸的是，由于SAST工作在理论层面，而不是在实践层面，因此它很容易报告误报。然后这就需要人工调查，需要花费时间和金钱。而且，就像喊狼来了的男孩一样，SAST的性质可能导致它的警告在现实场景中被用户忽视。

### 交互式应用程序安全测试（IAST）

IAST修改一个正在运行的应用，以便发现漏洞。这很像在你的银行金库内放置传感器，以查看你的（DAST）攻击有什么影响。这被称为“灰盒”安全测试技术，实际上是黑盒和白盒方法的混合。它可以看到DAST会“视而不见”的漏洞。

由于其侵入性，IAST不应被用于生产系统。这限制了它在测试环境中的应用。这也是OAST（见下文）可以被认为是“世界上最好的”安全测试技术的一个原因。

### 带外应用程序安全测试（OAST）

[OAST](./2-oast.md)是[PortSwigger首创](https://portswigger.net/blog/oast-out-of-band-application-security-testing)的一项技术。正如我们所知，由于DAST（动态应用程序安全测试）看不到东西，除非它们从外部造成可见的差异，因此它有可能错过“blind”的漏洞。OAST解决了这个问题，同时几乎没有误报，并且也不需要修改应用。

因此，OAST获得了上述三种技术的许多优点，同时最大限度地减少了它们的弊端。与SAST和IAST一样，它可以看到DAST无法看到的漏洞，但它不像SAST那样容易报告误报。虽然IAST是一种侵入性的使用方法，但OAST不会做这样的改变，所以它要安全得多。

## Web应用程序安全测试的不同用途

正如我们已经看到的，如今，几乎每个网站也是一个Web应用。但不同的情况会带来不同的安全测试挑战。

### 测试各种类型的Web技术

Web应用本身有许多不同的口味。其中包括移动应用、单页应用（SPA）和渐进式Web应用程序（PWA）。每一种都有一套独特的安全测试要求。例如，SPA大量使用JavaScript，这对自动扫描器来说是出了名的难以处理。

### 保持合规

某些行业也有他们自己非常特殊的需求。例如，金融和电子商务，由于其掌握的客户数据量很大，会受到网络安全合规标准的严格监管。这使得安全测试至关重要。

### 大规模自动化

使用安全测试的组织的规模也会影响其选择的解决方案。当然，在企业层面，在单个产品组合中可能包含成千上万的Web应用程序，自动化是至关重要的。但是自动化漏洞扫描器不能像人一样发挥创造力，所以应该始终进行手动渗透测试。

### 渗透测试

渗透测试人员（或简称pentesters）是能够模拟对你的“金库”进行攻击以改进它的专家。渗透测试本身是在道德黑客的大伞下进行的。道德黑客还包括漏洞赏金猎人，如果有人提供赏金，他们将会竞相寻找Web应用程序中的安全漏洞。发起这种活动的一种方式是通过像[HackerOne](https://www.hackerone.com/)这样的计划。

### 安全开发

正如我们前面所谈到的，确保银行金库安全的一个首要因素是确保它在一开始就建造得很好。传统上，Web应用程序的安全被推迟到开发结束后，这造成了延误，并可能耗费了大量资金。很简单，很难在开发软件的同时考虑安全问题。

但自动化安全测试的力量允许采用DevSecOps方法。DevSecOps使开发人员有能力编写安全的代码。由于安全是内建的，而不是在最后才贴上安全的标签，因此应用程序在发布当天就会更加安全。最好的DevSecOps解决方案甚至可以教育使用它们的开发者，这意味着首要修复的bug更少。

